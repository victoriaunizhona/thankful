(this.webpackJsonpthankful=this.webpackJsonpthankful||[]).push([[5],{635:function(e,t,n){"use strict";n(0);var a=n(636),i=n.n(a),o=n(4);t.a=function(){return Object(o.jsx)("div",{className:[i.a.DivDot,i.a.Divider,i.a.DivTransparent].join(" ")})}},636:function(e,t,n){e.exports={Divider:"Divider_Divider__1C07F",DivTransparent:"Divider_DivTransparent__24Okg",DivDot:"Divider_DivDot__334Hg"}},638:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/To-do.cd6b0011.svg"},640:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/not-found.594b1624.svg"},667:function(e,t,n){e.exports={History:"History_History__3Ob0o",Image:"History_Image__3PcZP",MainText:"History_MainText__3GXAR",Container:"History_Container__3lZr1",Loader:"History_Loader__39xcB",NotFound:"History_NotFound__3jKyJ",NotFoundImage:"History_NotFoundImage__1YHWU"}},668:function(e,t,n){},692:function(e,t,n){"use strict";n.r(t);var a=n(53),i=n(0),o=n(617),c=n(621),r=n(667),s=n.n(r),l=n(185),d=n(75),u=(n(668),n(606)),j=n(680),v=n(682),b=n(681),O=n(612),h=n(155),f=n(607),x=n(608),m=n(609),y=n(669),_=n.n(y),g=n(611),p=n(674),D=n(4),k=Object(u.a)({root:{width:"100%",marginBottom:"2rem"},title:{fontSize:14},button:{color:"darkred"}}),N=function(e){var t,n=k();return Object(D.jsxs)(j.a,{className:n.root,variant:"outlined",children:[Object(D.jsxs)(b.a,{children:[Object(D.jsx)(h.a,{className:n.title,color:"textSecondary",gutterBottom:!0,children:"Thankful"}),Object(D.jsx)(h.a,{variant:"h5",component:"h2",children:Object(p.a)(new Date(null===e||void 0===e?void 0:e.date),"dd/MM/yyyy")}),Object(D.jsx)(f.a,{component:"nav","aria-label":"secondary mailbox folders",children:null===e||void 0===e||null===(t=e.list)||void 0===t?void 0:t.map((function(e,t){return Object(D.jsxs)(x.a,{children:[Object(D.jsx)(g.a,{children:Object(D.jsx)(_.a,{color:"secondary"})}),Object(D.jsx)(m.a,{primary:e})]},t)}))})]}),Object(D.jsx)(v.a,{children:Object(D.jsx)(O.a,{onClick:e.clicked,className:n.button,size:"medium",children:"Remove"})})]})},T=n(638),H=n(640),C=n(672),S=n(632),w=n(690),F=n(635),I=n(683),M=n(686),B=n(685),P=n(684),J=function(e){var t=e.title,n=e.children,a=e.open,i=e.setOpen,o=e.onConfirm;return Object(D.jsxs)(I.a,{open:a,onClose:function(){return i(!1)},"aria-labelledby":"confirm-dialog",children:[Object(D.jsx)(P.a,{id:"confirm-dialog",children:t}),Object(D.jsx)(B.a,{children:n}),Object(D.jsxs)(M.a,{children:[Object(D.jsx)(O.a,{variant:"contained",onClick:function(){return i(!1)},color:"secondary",children:"No"}),Object(D.jsx)(O.a,{variant:"contained",onClick:function(){i(!1),o()},color:"default",children:"Yes"})]})]})},L=n(673);t.default=function(){var e,t,n=Object(i.useState)([]),r=Object(a.a)(n,2),u=r[0],j=r[1],v=Object(i.useState)(!0),b=Object(a.a)(v,2),O=b[0],h=b[1],f=Object(i.useContext)(d.a),x=Object(i.useState)(new Date),m=Object(a.a)(x,2),y=m[0],_=m[1],g=Object(i.useState)(!1),p=Object(a.a)(g,2),k=p[0],I=p[1],M=Object(i.useState)(null),B=Object(a.a)(M,2),P=B[0],z=B[1],A=Object(i.useState)(!1),K=Object(a.a)(A,2),R=K[0],W=K[1];return Object(i.useEffect)((function(){var e,t,n="?auth="+(null===f||void 0===f||null===(e=f.user)||void 0===e?void 0:e.idToken)+'&orderBy="userId"&equalTo="'+(null===f||void 0===f||null===(t=f.user)||void 0===t?void 0:t.uid)+'"';l.a.get("thank-list.json"+n).then((function(e){var t,n,i=null===(t=Object.entries(null===e||void 0===e?void 0:e.data))||void 0===t?void 0:t.filter((function(e){var t,n,i=Object(a.a)(e,2),o=(i[0],i[1]);return t=o.date,n=y,new Date(t).toDateString()===new Date(n).toDateString()}))[0];if(null===i||void 0===i?void 0:i.length){var o=i[0],c=i[1];n=Object(D.jsx)(N,{date:c.date,list:c.data,clicked:function(){return e=c,t=o,I(!0),void z({item:e,key:t});var e,t}},c.date)}j(n),h(!1)}))}),[null===f||void 0===f||null===(e=f.user)||void 0===e?void 0:e.idToken,null===f||void 0===f||null===(t=f.user)||void 0===t?void 0:t.uid,y]),Object(D.jsxs)(o.a,{maxWidth:"lg",children:[Object(D.jsxs)("div",{className:s.a.Container,children:[Object(D.jsx)("img",{className:s.a.Image,src:T.default,alt:"logo"}),Object(D.jsxs)("div",{className:s.a.MainText,children:[Object(D.jsx)("h1",{children:"History"}),Object(D.jsx)("p",{children:"Please select a date to see your thanks"}),Object(D.jsx)(S.a,{utils:C.a,children:Object(D.jsx)(w.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:"Select date",value:y,onChange:function(e){return _(e)},KeyboardButtonProps:{"aria-label":"change date"}})})]})]}),Object(D.jsx)(F.a,{}),R&&Object(D.jsx)(L.a,{variant:"outlined",severity:"success",children:"The record was successfully removed"}),O?Object(D.jsx)(c.a,{className:s.a.Loader,color:"secondary"}):Object(D.jsx)("div",{className:s.a.History,children:u||Object(D.jsxs)("div",{className:s.a.NotFound,children:[Object(D.jsx)("img",{className:s.a.NotFoundImage,src:H.default,alt:"logo"}),Object(D.jsx)("h2",{children:"Nothing found for this date"})]})}),Object(D.jsx)(J,{title:"Delete record",open:k,setOpen:I,onConfirm:function(){var e;l.a.delete("/thank-list/".concat(null===P||void 0===P?void 0:P.key,".json?auth=").concat(null===f||void 0===f||null===(e=f.user)||void 0===e?void 0:e.idToken)).then((function(){W(!0),console.log("deleted"),j(null),setTimeout((function(){return W(!1)}),1500)}))},children:"Are you sure you want to delete this record?"})]})}}}]);
//# sourceMappingURL=5.a598fb21.chunk.js.map